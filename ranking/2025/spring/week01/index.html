<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Week 02</title>
</head>
<body>
  <div id="app"></div>

  <script>
    const targetPath = "../../../../assets/html/ranking/weekly/shared-index.html";

    fetch(targetPath)
      .then(res => res.text())
      .then(html => {
        const container = document.createElement("div");
        container.innerHTML = html;
        document.getElementById("app").appendChild(container);

        // script ã‚¿ã‚°ã‚’å†å®Ÿè¡Œã™ã‚‹
        container.querySelectorAll("script").forEach(oldScript => {
          const newScript = document.createElement("script");

          // srcå±žæ€§ãŒã‚ã‚Œã°ã‚³ãƒ”ãƒ¼ï¼ˆå¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼‰
          if (oldScript.src) {
            newScript.src = oldScript.src;
          } else {
            newScript.textContent = oldScript.textContent;
          }

          // type, async, defer ãªã©ã‚‚å¼•ãç¶™ãŽï¼ˆå¿µã®ãŸã‚ï¼‰
          [...oldScript.attributes].forEach(attr => {
            newScript.setAttribute(attr.name, attr.value);
          });

          document.body.appendChild(newScript);
        });
		
		// ðŸ‘‰ ã“ã® setTimeout ã®ä¸­ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€Œç¢ºå®Ÿã«DOMãŒæ§‹ç¯‰ã•ã‚ŒãŸå¾Œã€ã«å®Ÿè¡Œã§ãã‚‹
setTimeout(() => {
  if (typeof initOverviewSection === "function") {
    initOverviewSection();
  } else {
    console.warn("initOverviewSection is not defined yet");
  }
}, 0);
		
      })
      .catch(err => {
        console.error("Failed to load shared-index.html:", err);
      });
  </script>
</body>
</html>
